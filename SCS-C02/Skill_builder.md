# AWS Networking Practical Approaches
- AWS의 네트워킹
  - AWS는 다음과 같은 제품 기능을 제공합니다.
    - 네트워크 트래픽 최적화: Amazon EBS 최적화 인스턴스, Amazon S3 Transfer Acceleration, 및 동적 Amazon CloudFront
    - 네트워크 거리 및 지터 감축: 아마존 Route 53 지연 시간 라우팅, Amazon VPC 엔드포인트, AWS Direct Connect, 및 AWS Global Accelerator
  - AWS Well-Architected Framework는 다음을 지원합니다.
    - 특정 요구 사항에 맞는 네트워크를 구축합니다. 
    - 설계가 네트워크와 Amazon VPC를 최적화하도록 제시된 특정 질문을 강조 표시합니다.
    - 네트워크를 설계 및 구축하는 과정에서 내리는 결정이 안전하고 비용 효율적인 환경을 관리, 확장 및 운영하는 데 어떻게 도움이 되는지 이해합니다.
  - AWS Well-Architected Framework를 위한 하이브리드 네트워킹 렌즈
    - 데이터
      - 네트워킹 환경의 데이터 계층은 AWS에서 호스팅되는 애플리케이션과 온프레미스 데이터 센터 간의 네트워크 트래픽에 대한 데이터 경로를 제공하기 때문에 중요합니다. 
      - 네트워크 트래픽을 전달하기 위해 AWS와 온프레미스 데이터 간의 연결 옵션을 신중하게 고려하는 것이 중요합니다.
      - 하이브리드 네트워킹 렌즈는 AWS VPN(AWS Virtual Private Network), AWS Direct Connect 및 Amazon VPC를 사용하여 AWS를 데이터 센터 확장으로 활용하여 애플리케이션 팀의 민첩성과 시장 출시 속도를 지원할 것을 권장합니다. 
      - AWS VPN 및 Direct Connect는 이러한 하이브리드 네트워킹 워크로드에 대한 연결을 제공하기 위해 네트워크 경로로 사용됩니다.
    - 모니터링
      - 모니터링 및 구성 관리는 하이브리드 네트워킹 환경의 통찰력을 얻고 성능을 향상시키는 데 매우 중요합니다. 
      - AWS는 다음과 같은 모니터링 및 구성 관리 서비스를 제공합니다. 
      - 이를 통해 AWS 서비스를 모니터링하고 비즈니스 요구에 따라 성능 문제의 근본 원인을 해결할 수 있습니다.
        - Amazon CloudWatch 
        - AWS Personal Health Dashboard
        - VPC Reachability Analyzer
        - Transit Gateway Network Manager(네트워크 관리자)
        - Route Analyzer, Transit Gateway Network Manager 에 포함
        - AWS Config 
    - 보안
      - 하이브리드 네트워킹 환경의 보안도 매우 중요하며 온프레미스 및 클라우드 환경 전반에 걸쳐 보호를 제공해야 합니다. AWS 내의 트래픽과 인터넷 및 온프레미스 네트워크에서 AWS로 흐르는 트래픽에 대한 보안 제어를 구현하는 것이 좋습니다. 
      - 다음 기능과 서비스는 AWS에서 하이브리드 네트워킹 환경을 보호하는 데 도움이 될 수 있습니다.
        - 보안 그룹
        - 네트워크 액세스 제어 목록(네트워크 ACL)
        - AWS Network Firewall
        - AWS CloudTrail
        - Amazon GuardDuty 
  - AWS의 관리 및 거버넌스 렌즈(M&G 렌즈)
    - 제어 및 가드레일
    - 네트워크 연결
    - 아이덴티티 관리
    - 보안 운영
    - IT 서비스 관리(ITSM)
    - 관측가능성
    - 클라우드 재무 관리
    - 소싱 및 유통
  - Cloud Adoption Framework
    - 클라우드 컴퓨팅은 일반적인 데이터 센터가 아닙니다. 클라우드 컴퓨팅은 기술을 획득, 사용, 관리하는 방식을 획기적으로 변화시키고 있습니다. 또한 조직이 클라우드에서 서비스에 대한 예산을 수립하고 비용을 지불하는 방식도 바꾸고 있습니다. AWS 기본 사항으로 돌아가서 클라우드 컴퓨팅이 다음과 같은 기능을 제공한다는 사실을 이해합니다.
      - 자본 비용을 가변 비용으로 대체
      - 대규모 규모의 경제로부터 이점 확보
      - 민첩한 용량 결정
      - 비즈니스 속도 및 민첩성 향상
      - 데이터 센터 운영 및 유지 관리에 비용 투자 불필요
      - 몇 분 만에 전 세계에 배포
- 운영 우수성
  - 프레임워크의 운영 우수성에서 핵심 요소는 요구 사항 및 우선 순위 정의, 설계 및 예상 동작 파악, 성공을 추적하기 위한 지표 식별, 해당 데이터를 사용하여 발전하고 지속적으로 개선하는 것을 다룹니다. 
  - AWS의 운영 우수성에 대한 세 가지 모범 사례가 있습니다.
    - 준비
      - 네트워크의 운영 우수성을 높이기 위해서는 준비가 필수적입니다. 
      - 설계와 인시던트 대응 계획의 모범 사례를 따르면 운영 문제를 방지할 수 있습니다. 설계 단계에서 문제를 해결하면 생산 단계에서 문제를 해결할 때보다 비용이 적게 듭니다.
      - 운영의 우수성을 준비하려면 네트워크와 그에 대한 요구 사항을 이해해야 합니다.
    - 운영
      - 비즈니스 요구와 목표에 중요한 실시간 지표를 제공할 수 있는 온프레미스 네트워크 환경에 대한 표준, 절차 및 모니터링 기능을 정의합니다. 
      - 런 다음 이러한 지표를 집계하고, 대시보드에서 시각화하고, 자동 조치 및 알림을 통해 자동 경고를 설정합니다.
      - 탁월한 운영 우수성을 갖추려면 네트워크의 상태를 이해하여 성능을 최적화해야 합니다.
    - 진화
      - 점진적이고 지속적인 개선에 시간 및 리소스를 집중하여 운영의 효과성 및 효율성을 높입니다.
      - 탁월한 운영 능력을 갖추려면 네트워크의 상태, 현재 요구 사항, 미래의 요구 사항을 이해하고 설계 문서, 인시던트 대응 계획 및 재해 복구 계획도 업데이트해야 합니다.
  - 잘 정의된 IP 주소 할당 체계에는 다음과 같은 이점이 있습니다.
    - 효율적인 라우팅
      - 잘 정의된 IP 주소 할당 체계는 네트워크 경계를 기준으로 경로를 요약할 수 있는 효율적인 라우팅을 생성합니다.
      - 예를 들어, us-east-1의 Amazon VPC에서 워크로드를 호스팅하는 경우 10.1.1.0/22와 같은 정의된 블록에서 이러한 Amazon VPC에 CIDR 범위를 할당할 수 있습니다. 그런 다음 개별 Amazon VPC와 연결된 개별 접두사를 광고하는 대신 전송 가상 인터페이스를 통해 이 CIDR 블록을 알리도록 전송 게이트웨이와 연결된 Direct Connect 게이트웨이를 구성합니다.
      - 잘 정의되고 요약된 CIDR 범위를 생성하면 보안 그룹 및 네트워크 액세스 제어 목록(네트워크 ACL)을 정의할 때 보안 및 방화벽 구성에도 도움이 될 수 있습니다.
    - 위험 감축
      - 잘 정의된 IP 주소 할당 체계를 사용하면 Amazon VPC와 온프레미스 네트워크 간에 CIDR 범위가 중복될 위험이 줄어듭니다. CIDR 범위가 겹치면 호스트 간 통신이 매우 어려워지므로 온프레미스와 Amazon VPC 네트워크 간에 동일한 CIDR 범위를 재사용하지 않습니다.
  - Amazon VPC 네트워크 토폴로지의 설계를 단순하게 유지하는 것이 관리 가능하고 안정적이며 잘 이해되는 아키텍처를 보장하는 최선의 방법입니다.
    - AWS Direct Connect
      - 온프레미스 위치에서 AWS 환경으로 물리적, 프라이빗 및 전용 연결을 사용합니다. Amazon CloudWatch를 사용하여 AWS Direct Connect 연결을 모니터링하여 원시 데이터를 AWS Direct Connect에서 읽을 수 있는 거의 실시간 지표로 수집하고 처리할 수 있습니다. 이러한 지표를 CloudWatch에 통합하고 대시보드 및 알림을 구축하여 정의된 조건에 따라 운영 팀에 알릴 수 있습니다.
      - Amazon은 이러한 이벤트를 관리하는 데 도움이 되도록 AWS Direct Connect의 예약된 유지 관리에 대해 알려 줍니다. AWS Personal Health Dashboard를 사용하여 관련 정보를 표시하고 사전 알림을 제공함으로써 예약된 활동을 계획할 수 있습니다. AWS는 AWS Personal Health Dashboard를 사용하여 Direct Connect에 영향을 미칠예정된 유지 관리 또는 이벤트에 대한 알림을 받을 것을 권장합니다.
    - AWS Site-to-Site VPN
      - 사용자의 위치에서 AWS 환경으로 전용 IPsec 연결을 설정합니다. CloudWatch를 사용하여 거의 실시간 지표로 AWS Site-to-Site VPN 연결을 모니터링할 수 있습니다. VPN 터널의 상태와 터널 안팎에서 검색된 데이터를 모니터링할 수 있습니다. 이러한 지표는 15개월 동안 기록되므로 과거 정보에 액세스하여 하이브리드 설정이 어떻게 수행되었는지에 대해 더 나은 관점을 확보할 수 있습니다. VPN 지표 데이터가 사용 가능해지면 CloudWatch로 자동으로 전송됩니다.
    - Transit Gateway
      - 전송 게이트웨이를 중앙 허브로 사용하면 AWS Direct Connect 또는 AWS VPN을 사용하여 VPC 리소스와 온프레미스 간에 액세스할 수 있습니다. Transit Gateway는 CloudWatch 및 Amazon VPC Flow Logs와 같은 서비스에서 사용할 수 있는 통계 및 로그를 제공합니다.
      - 토폴로지 변경 사항: 예를 들어, AWS Direct Connect 게이트웨이가 전송 게이트웨이에 연결됨
      - 라우팅 업데이트: 예를 들어, VPN 연결의 라우팅 테이블 연결이 변경됨
      - 상태 업데이트: 예를 들어, VPN 터널의 BGP 세션이(다운된 후) 올라감
    - Route Analyzer
      - 글로벌 네트워크의 전송 게이트웨이 경로 테이블에 있는 경로를 분석하는 데 도움이 됩니다. Route Analyzer는 지정된 소스와 대상 사이의 라우팅 경로를 분석하고 구성 요소 간의 연결에 대한 정보를 반환합니다.
      - Route Analyzer를 사용하여 다음을 수행할 수 있습니다.
        - 트래픽 전송을 시작하기 전에 전송 게이트웨이 경로 테이블 구성이 예상대로 작동하는지 확인합니다.
        - 기존 경로 구성을 확인합니다.
        - 글로벌 네트워크에서 트래픽 중단을 일으키는 경로 관련 문제를 진단합니다.
  - 성능 효율성
    - AWS의 성능 효율성에는 네 가지 모범 사례가 있습니다.
    - 선택
      - AWS에서 네트워킹 연결을 설정할 때 고려해야 할 설계 선택사항이 여러 가지 있습니다. 각 옵션에는 고유한 성능 특성과 고려 사항이 있습니다. 비즈니스 목표와 측정 기준을 사용하여 성능 요구 사항을 파악하여 올바른 선택을 할 수 있습니다.
      - 대역폭 요구 사항에 따라, 단일 VPN 또는 Direct Connect 연결이 여러 연결에서 트래픽 로드 밸런싱을 구성하기에 충분하지 않을 수 있습니다.
      - 연결 옵션으로 AWS Direct Connect와 AWS VPN 중에서 어떻게 결정합니까?
        - 기본적인 네트워크 요구 사항을 이해합니다. 최고의 성능을 발휘하는 아키텍처를 설계하기 전에, 성능이 비즈니스 목표에 어떤 의미가 있는지와 관련된 매개변수를 정의합니다. 일반적으로 성능 지표는 대역폭(데이터 전송 속도), 지연 시간(네트워크 패킷이 소스에서 대상으로 이동하는 왕복 시간) 및 지터(지연 시간의 변동)를 기준으로 합니다.
      - 대역폭, 지연 시간 및 지터 값을 사용하여 성능 요구 사항을 결정하고 정의합니다.
        - 시작하려면 환경의 대역폭 및 지연 시간 요구 사항을 추정해야 할 수 있습니다. 애플리케이션 또는 제품 소유자와 상의하여 기준 또는 예상되는 트래픽 로드, 현재 종속성 및 허용 지연 시간을 파악할 수 있습니다. AWS로 마이그레이션하는 애플리케이션의 경우, 내부 모니터링 시스템의 데이터를 사용합니다. 이러한 추정치를 AWS에서 사용할 수 있는 옵션과 일치시켜 사용할 기술과 적절한 구성이 무엇인지를 결정합니다.
      - 가장 성능이 좋은 네트워크 VPN 아키텍처를 어떻게 선택합니까?
        - AWS 쪽에서 올바른 VPN 종료 엔드포인트를 선택하는 것부터 시작합니다. AWS에는 네 가지 종료 옵션이 있습니다. VPN 성능 및 확장성은 선택하는 옵션에 따라 달라집니다. 각 옵션에서 대역폭 및 확장성 특성을 이해하는 것이 중요합니다.
          - 가상 프라이빗 게이트웨이에서 종료
          - Transit Gateway에서 종료
          - 가상 VPN 어플라이언스를 실행하는 고객 관리 EC2 인스턴스에서 종료
          - Direct Connect 게이트웨이에서 종료
    - 검토
      - 환경 및 네트워크, 인시던트 대응 계획 및 재해 복구에 대한 설계를 지속적으로 검토하고 업데이트하는 것이 가장 좋습니다.
    - 모니터링
      - 하이브리드 연결이 예상대로 작동하는지 출시 후 모니터링 및 확대하려면 어떻게 해야 합니까?
      - 네트워크의 성능을 지속적으로 모니터링하고 추적하는 것이 중요합니다.
      - 원래 설계에서는 네트워크 그리고 초기 요구 사항에 대한 연결을 배포합니다. 그러나 아키텍처가 성장하고 발전함에 따라 설계 및 구성도 성장해야 합니다. 더 많은 애플리케이션이 기존 연결을 사용하기 시작하므로 새로운 요구 사항을 충족하지 못하고 연결 성능이 저하될 수 있습니다.
      - Amazon CloudWatch 메트릭과 온프레미스 장치 및 라우터 메트릭은 VPN 및 Direct Connect 연결의 성능을 추적할 수 있습니다. 그런 다음 메트릭스를 사용하여 원인을 찾고 문제를 해결할 수 있습니다.
    - 절충
      - 네트워크 성능 개선을 위해 절충을 어떻게 활용해야 합니까?
      - 어떤 기술 또는 엔드포인트를 선택할지 결정할 때는 성능, 비용 및 설정 시간 간의 균형을 고려해야 합니다. 기술의 경우 VPN과 전용 회로 중 하나를 선택할 수 있습니다. 종료 엔드포인트의 경우 EC2 인스턴스와 전송 게이트웨이 중 하나를 선택할 수 있습니다. 절충을 이해하면 올바른 작업에 적합한 도구를 선택하는 데 도움이 됩니다.
      - 예시:
        - 개발자가 개발 또는 샌드박스 VPC에 신속하게 연결하여 실험을 시작하려는 경우 VPN이 권장되는 접근 방식이며, 설정 시간에 따라 성능을 조정할 수 있습니다.
        - 성능이 중요하며 계획하는 시간이 더 긴 프로덕션 워크로드의 경우, AWS Direct Connect를 사용하는 것이 권장되며, 성능을 위해 설정 시간을 조정할 수 있습니다.
  - 보안
    - 프레임워크의 보안 핵심 요소는 일반적으로 다른 요소와 교환되지 않습니다. 모든 조직은 다음을 통해 심층적인 방어를 구현하고 우선순위를 정해야 합니다.
      - 강력한 식별 기능을갖춥니다
      - 보안 이벤트에 대한 응답을 자동화합니다
      - 여러 레벨에서 인프라를 보호합니다
      - 암호화로 잘 분류된 데이터를 관리합니다
    - AWS의 보안을 위한 5가지 모범 사례가 있습니다.
      - Identity and access management(IAM)
        - 네트워크의 리소스 및 워크로드에 대한 액세스를 어떻게 제어합니까?
        - 네트워크를 배포하려면 Amazon VPC 및 서비스에 대한 무단 액세스를 방지하기 위해 제어해야 하는 구성 요소를 생성해야 합니다. 액세스를 보호하고 제어하려면, 최소 권한 원칙을 사용하여 워크로드를 관리하고 운영하는 팀의 역할과 책임을 고려해야 합니다. 네트워킹 서비스를 분리하고 네트워크 전문가와 애플리케이션 소유자 간의 업무 분리를 구현하여 여러 팀이 각자의 역할에 따라 네트워크 서비스에 필요한 액세스 권한을 가질 수 있도록 합니다.
        - AWS는 모범 사례를 기반으로 사전 구성되고 안전하며 확장 가능한 다중 계정 AWS 환경인 랜딩 존을 구현할 것을 권장합니다. AWS Control Tower는 랜딩 존과 계정의 프로비저닝을 자동화하고, 분리 레벨을 관리하며, 초기 가드레일 세트를 제공하여 전체 AWS 환경의 보안을 강화할 수 있습니다.
      - 탐지 제어
        - 네트워크에서 메트릭스를 캡처하고 분석하는 방법은 무엇입니까?
        - 탐지 제어를 사용하여 잠재적인 보안 위협 또는 사고를 식별할 수 있습니다. 네트워크 성능에 대한 자세한 정보를 얻고 이 정보를 사용하여 잘못된 구성 또는 잠재적인 악의적인 활동을 탐지하고 배포를 최적화할 수 있습니다.
        - 의심스럽거나 악의적인 활동을 탐지하고 이에 대응하는 즉각적인 대응 프로세스를 모니터링하고 구현하는 것이 가장 좋습니다. 워크로드 모니터링은 특히 보안 사고를 조사할 때 중요합니다.
        - 네트워크 연결 및 AWS Direct Connect와 같은 프라이빗 연결에 대한 로그를 캡처해야 합니다. 또한 VPC 흐름 로그가 내장된 위협 탐지 서비스인 Amazon GuardDuty를 사용하여 워크로드에서 악의적인 활동을 지속적으로 모니터링할 수 있습니다.
        - 사용자 환경에 대한 중앙 로깅 및 분석 설정을 생성하고 Amazon CloudWatch 로그, Amazon CloudWatch 메트릭 및 Transit Gateway Route Analyzer를 사용하여 탐지 제어를 구현합니다.
      - 인프라 보호
        - 네트워크 리소스를 보호하는 방법은 무엇입니까?
        - 경계 보호, 송수신 모니터링을 강화하고 포괄적인 로깅, 모니터링, 경고를 추가합니다. 다음의 여러 방어 계층을 사용합니다.
          - 보안 그룹
          - 네트워크 액세스 제어 목록(네트워크 ACL)
          - AWS Transit Gateway 경로 테이블
          - Gateway Load Balancer
          - AWS Network Firewall
          - Amazon Route 53 Resolver DNS Firewall
      - 데이터 보호
        - 고객 데이터 암호화를 어떻게 지원할 예정입니까?
        - 중요한 데이터 트래픽을 암호화하여 하이브리드 네트워킹 워크로드를 위해 인터넷 또는 프라이빗 네트워크 연결을 통해 AWS에 연결하는 것은 권한이 없는 사용자 또는 기관이 데이터에 액세스할 수 없도록 하는 것이 중요합니다.
      - 인시던트 대응
        - 온프레미스 네트워크에서 발생하는 보안 사고에서 네트워킹 사고를 어떻게 격리할 수 있습니까?
        - 수동 프로세스를 사용하여 보안 상태를 모니터링하고 사건에 수동으로 대처하는 대신 사고 대응을 자동화합니다. 대응을 자동화하면 수동 프로세스가 개선되고, 봉쇄 시간이 단축되며, 사고 대응 팀의 경고 피로가 방지되므로 인력 프로세스가 민감하고 특유한 사고를 처리할 수 있습니다.
        - AWS Security Hub는 보안 사고를 자동화하고 탐지하는 데 도움이 될 수 있습니다. Security Hub는 자동 검사를 통해 환경을 지속적으로 모니터링하며 AWS Lambda, AWS Step Functions 및 AWS Config 규칙과 같은 이벤트 기반 자동화 도구를 사용하여 보안 검색 결과에 대한 조치를 취할 수 있습니다.
    - 기본 사항으로 돌아가서 네트워크, 현재 및 미래의 요구 사항을 파악하여 다음을 수행할 수 있습니다.
      - 보안 목표를 식별합니다.
      - 외부 액세스를 제한합니다(정책 사용).
      - 대상 필터링, 이름 확인을 위한 전용 DNS(Domain Name Systems) 영역 및 NAT(Network Address Translation)를 사용하여 서브넷을 네트워크 ACL로 격리합니다.
      - 다중 가용 영역 배포를 사용하여 고가용성을 확보합니다.
      - 보안 그룹 및 네트워크 ACL을 사용합니다.
      - IAM 정책을 사용하여 액세스를 제어합니다.
      - CloudWatch를 사용하여 Amazon VPC 구성 요소와 VPN 연결을 모니터링합니다.
      - 흐름 로그를 사용하여 Amazon VPC의 네트워크 인터페이스에서 전송되고 수신되는 IP 트래픽에 관한 정보를 캡처합니다.
      - 자격 증명 연동, IAM; 사용자 및 IAM; 역할을 사용하여 AWS 리소스 및 API에 대한 액세스를 관리합니다.
    - 다음과 같은 방법으로 온프레미스 데이터 센터와 같은 Amazon VPC를 보호할 수 있습니다.
      - 웹 애플리케이션 방화벽, 방화벽 가상 어플라이언스, AWS Network Firewall 및 Amazon VPC를 보호하는 데 사용할 수 있는 여러 도구를 사용합니다.
      - 침입 탐지 시스템 및 침입 방지 가상 어플라이언스를 구성하여 허가되지 않은 사용 또는 침입으로부터 프로토콜을 보호합니다.
      - 세분화된 수준의 사용 권한 IAM으로 계정을 생성하고 Amazon VPC에 대한 관리자 액세스 권한을 감사 및 모니터링합니다.
      - Site-to-Site VPN을 구성하여 다양한 리전의 Amazon VPC 간 또는 Amazon VPC 간 정보를 온프레미스 데이터 센터로 안전하게 전송합니다. 정보를 안전하게 전송하는 또 다른 옵션은 AWS Transfer for Secure File Transfer Protocol(AWS SFTP)을 사용하는 것입니다. AWS SFTP에서는 VPC 엔드포인트를 사용하고 퍼블릭 IP 주소를 사용하거나 인터넷을 사용하지 않습니다. 또한 AWS SFTP용 VPC 엔드포인트는 VPC와 AWS 서비스 간에 전용 연결을 제공하는 AWS PrivateLink를 통해 보안 기능을 활용합니다.
    - 이름에 사용되는 태그 또는 자유 형식 필드에 입력하는 모든 데이터는 청구 또는 진단 로그에 사용될 수 있습니다. 외부 서버에 URL(Uniform Resource Locator)을 제공하는 경우 해당 서버에 대한 요청을 확인하기 위해 URL에 자격 증명 정보를 포함하지 않는 것이 좋습니다.
      - 전송 중 암호화: AWS는 모든 유형의 EC2 인스턴스 간에 보안 및 프라이빗 연결을 제공합니다. 또한 일부 인스턴스 유형은 기본 Nitro 시스템 하드웨어의 오프로드 기능을 사용하여 인스턴스 간 전송 중인 트래픽을 자동으로 암호화합니다. 
      - Amazon VPC 기록 및 모니터링: VPC의 구성 요소를 관찰하고 문제가 있을 때 AWS 네트워크 모니터링 및 문제 해결 과정에서 다루는 모니터링 도구를 사용하여 보고할 수 있습니다.
      - 흐름 로그 사용: 흐름 로그는 VPC의 네트워크 인터페이스로 송수신되는 IP 트래픽에 대한 정보를 캡처합니다. VPC, 서브넷 또는 개별 네트워크 인터페이스에 대한 Flow Log를 생성할 수 있습니다. Flow Log 데이터는 CloudWatch Logs 또는 Amazon S3에 게시되며 지나치게 제한적이거나 지나치게 허용되는 보안 그룹 및 네트워크 ACL 규칙을 진단하는 데 도움이 됩니다.
      - NAT 게이트웨이 모니터링: CloudWatch를 사용하면 NAT 게이트웨이를 모니터링할 수 있습니다. 이 CloudWatch는 NAT 게이트웨이에서 정보를 수집하고 거의 실시간에 가까운 읽기 쉬운 메트릭을 생성합니다.
  - 비용 최적화
    - AWS에서 비용 최적화를 위한 5가지 모범 사례 영역
      - 클라우드 재무 관리 실습
        - 모범 사례에 대해서는 네트워킹의 비용 최적화를 위해 Cloud Financial Management를 사용합니다. AWS는 비용을 최적화하기 위해 다양한 서비스와 도구를 제공합니다.
          - AWS Cost Explorer
          - AWS Budgets
          - AWS Cost and Usage Reports
          - 예약된 인스턴스 보고
          - Savings Plans
          - AWS Application Cost Profiler
      - 지출 및 사용량 인식
        - 네트워킹 솔루션의 사용량을 어떻게 모니터링합니까?
        - 기존 네트워크 모니터링 솔루션을 AWS 모니터링 솔루션과 통합하여 완벽한 전체 가시성을 확보합니다. 데이터 전송 비용은 AWS 청구서의 일부로 포함되지만, 어떤 유형의 데이터 전송 요금이 표시되는지 정확히 파악하는 것은 어려울 수 있습니다. AWS는 네트워킹 구성 요소와 관련된 비용을 추적하는 데 사용할 수 있는 AWS 비용 및 사용량 보고서 그리고 AWS VPC 흐름 로그와 같은 도구를 제공합니다. 비용 분석 및 시각화에 대해 Amazon Athena 및 Amazon QuickSight를 사용할 수 있습니다.
        - 공유 리소스에 대한 데이터 전송 비용을 어떻게 파악하고 있습니까?
        - 최적의 설계를 위해 데이터 전송 비용을 식별하고 비용 효율적인 리소스를 사용하는 솔루션 및 사용 서비스를 구현합니다. 예를 들어, Amazon Athena 쿼리를 사용하여 Amazon S3 및 Amazon QuickSight의 사용량 정보를 분석함으로써 AWS 비용 및 사용량 보고서의 Amazon Athena 분석을 시각화하여 데이터 전송 비용을 식별할 수 있습니다.
      - 비용 효율적인 리소스
        - 가장 비용 효율적인 네트워킹 옵션을 위한 데이터 연결 요구 사항을 어떻게 결정합니까?
        - 안정성 핵심 요소에 표시된 대로 처리량 및 일관성에 대한 요구 사항에 맞게 네트워킹 연결을 선택합니다. 엄격한 복원력이나 지연 시간 요구 사항이 없는 미션 크리티컬하지 않은 워크로드에 대해 인터넷 기반 VPN 연결을 사용하는 것이 더 경제적일 수 있습니다. 또는 프로덕션 트래픽에 프라이빗 전용 연결을 사용하여 데이터 센터와 AWS 간에 보다 일관되고 높은 대역폭 연결을 달성하기로 결정할 수도 있습니다.
      - 공급 및 수요 관리
        - 네트워킹을 위한 리소스 공급을 수요를 어떻게 일치시킵니까?
          - 요구 사항이 변경되는 경우 연결을 설정하고 확장하는 데 걸리는 시간을 포함하여 연결 요구 사항을 계획하고 정확하게 예측합니다.
          - 사용 가능하거나 공급되는 네트워크 연결 리소스가 부족하거나 과도하게 제공되지 않도록 네트워크에 배치할 애플리케이션 요구의 포괄적인 프로필을 확보합니다.
          - 네트워크 요구를 기준으로 합니다.
          - 하이브리드 네트워킹 연결로 들어오는 트래픽이 사용 가능한 대역폭을 초과하는 상황에서는 온프레미스 네트워크 장치의 우선 순위 지정 및 대기열 기술을 사용합니다.
      - 지속적인 최적화
        - 어떻게 성장하고 진화하고 있습니까?
          - 비즈니스 요구 사항 및 목표, 설계, 현재 및 미래의 요구 사항을 파악합니다.
          - 아키텍처를 정기적으로 검토하고 설계, 사건 대응 계획 및 재해 복구 계획을 업데이트합니다.
          - 최신 AWS 서비스, 리소스, 툴 및 기능을 최신 상태로 유지하여 현재와 미래의 요구 사항을 충족합니다.
    - 데이터 전송을 최적화합니다.
      - AWS 내에서 또는 인터넷을 통해 데이터를 전송하는 경우
        - 단일 가용성 영역에서 서비스를 제공하면 서비스 중단 위험이 증가합니다. 그러나 데이터 전송 최적화의 한 방법은 여러 가용성 영역에서 서비스를 호스팅하는 비용을 균형 있게 조정하여 서비스 중단 위험에 대비하여 고가용성과 안정성을 추가하는 것입니다.
        - 리전 간 데이터 전송 수수료는 소스 리전 요율로 부과됩니다. 이러한 속도에는 서비스에 의해 전송된 모든 집계 데이터가 포함됩니다. 비용 최적화를 위해 재해 복구를 위한 별도의 리전이 필요한 경우더 저렴한 리전을 선택하여 데이터 전송 비용을 절약할 수 있습니다.
        - AWS 리전으로의 Direct Connect 데이터 전송(데이터 수신) 비용은 없습니다. 그러나 리전으로부터의 데이터 전송(데이터 송신)에는 요금이 부과됩니다. AWS Direct Connect를 통해 리전에서 온프레미스 위치로 데이터를 전송하는 속도는 소스 리전과 대상 위치에 따라 달라집니다.
        - 물론 엣지 로케이션과 리전 간 데이터 전송은 추가 비용이 들지 않지만 엣지 위치는 Amazon의 콘텐츠 전송 네트워크인 Amazon CloudFront 데이터 센터라는 점을 고려해야 합니다. Amazon CloudFront에는 비용이 듭니다. CloudFront는 짧은 지연 시간 액세스를 위해 비디오, API 또는 애플리케이션과 같은 데이터를 캐시합니다.
          - 모범 사례는 다음을 사용합니다.
            - 가능한 경우 퍼블릭 IP 주소나 탄력적인 IP 주소를 사용하는 대신 데이터 전송에 대해 프라이빗 IP 주소
            - 표준 데이터 전송 속도에 비해 20%~40% 추가 절감을 위한 CloudFront
      - AWS의 데이터 전송 요금은 소스, 대상 지역 및 트래픽 양을 기준으로 적용됩니다. 
        - VPC 엔드포인트를 사용하여 AWS 내에서 AWS 서비스에 연결할 때 인터넷을 통해 트래픽을 라우팅하지 않도록 하십시오.
          - VPC 게이트웨이 엔드포인트는 데이터 전송 비용 없이 Amazon S3 및 Amazon DynamoDB와 통신할 수 있습니다.
          - 일부 AWS 서비스에 VPC 인터페이스 엔드포인트를 사용할 수 있습니다. 이러한 유형의 엔드포인트는 시간당 서비스 요금과 데이터 전송 요금이 발생합니다.
        - 온프레미스 네트워크에 데이터를 전송하려면 인터넷을 통한 VPN 연결 대신 Direct Connect를 사용합니다. VPN 요금이 더 많이 나올 수 있습니다. Direct Connect의 경우 포트 시간과 아웃바운드 데이터 전송이라는 두 가지 청구 요소가 있습니다. 포트 시간 요금은 연결 유형, 전용 연결 또는 호스팅 연결, 및 용량에 따라 결정됩니다. AWS Direct Connect를 통해 데이터 송신 요금은 GB당 부과됩니다.
        - 가용성 영역 경계를 통과하는 트래픽은 일반적으로 데이터 전송 요금이 발생합니다. 가능한 경우 항상 로컬 가용성 영역의 리소스를 사용합니다.
        - 리전 경계를 통과하는 트래픽은 일반적으로 가용성 영역 간 데이터 전송 요금이 발생합니다. 비즈니스 사례에 필요한 경우가 아니면 리전 간 데이터 전송을 피합니다.
        - AWS Pricing Calculator 를 사용하여 솔루션의 데이터 전송 비용을 예측할 수 있습니다.
        - 대시보드를 사용하여 데이터 전송 요금을 더 잘 시각화할 수 있습니다.
- 트래픽 평가
  - SaaS 서비스에 대한 보안 라우팅
    - SSL CONNECTION
      - 고객이 SaaS 제공자에 연결하는 데 사용하는 일반적인 네트워크 연결은 SSL connection입니다. 이는 SaaS 애플리케이션 계층의 애플리케이션 레벨 네트워크 연결이며 추가 구성 없이 TLS(Transport Layer Security) 암호화를 통해 퍼블릭 인터넷을 통과합니다.
      - 새 요구 사항 연결에 대한 이 옵션은 SaaS 애플리케이션이 온프레미스 데이터 센터 또는 AWS의 애플리케이션과 통신해야 할 때 사용됩니다.
    - AWS SITE-TO-SITE VPN
      - 네트워크 레벨 연결을 원하는 고객은 AWS Site-to-Site VPN을 사용하여 IP 보안(IPSec) 및 TLS 터널로 안전한 비공개 세션을 설정할 수 있습니다. 이 연결 유형을 사용하면 AWS 글로벌 네트워크로 여러 가용성 영역에 걸쳐 있는 두 개의 VPN 터널을 통해 네트워크를 연결할 수 있습니다. 
      - 새 요구 사항 연결에 대한 이 옵션은 AWS와 뉴욕 데이터 센터의 온프레미스 네트워크 사이의 VPN 트래픽에 IPSec 및 TLS를 모두 사용합니다.
  - 검사 Amazon VPC 추가
    - 방화벽
      - Amazon VPC에서 트래픽 필터링 논리를 적용하려면 방화벽 엔드포인트에 트래픽을 대칭적으로 라우팅할 수 있습니다. 이 방화벽 엔드포인트는 PrivateLink VPC 인터페이스 엔드포인트와유 사합니다. 중요한 차이점은 방화벽이 경로 테이블 대상이 될 수 있다는 것입니다. 방화벽 엔드포인트는 Amazon VPC의 전용 서브넷에 배포됩니다. 
      - 고가용성을 유지하고 이 설계를 확장하기 위해서 방화벽이 내부에 있는 가용성 영역별로 서브넷을 할당할 수 있습니다.
    - TRANSIT GATEWAY
      - us-east-1 리전의 경우, AWS Gateway Load Balancer를 및 전송 게이트웨이는 모든 송수신 트래픽을 검사 Amazon VPC의 확장 가능한 제3자 방화벽 가상 장치 플릿으로 전송하도록 구성됩니다. 
      - 전송 게이트웨이는 필수 조건이며 Amazon VPC와 사내 간의 연결을 단순화하는 네트워크 허브 역할을 합니다. 방화벽 엔드포인트에서 전송되는 트래픽의 경우 AWS 전송 게이트웨이로 가는 기본 경로에 대해 단일 Amazon VPC 경로 테이블이 구성됩니다. 트래픽이 방화벽에서 검사된 후 동일한 가용성 영역에 있는 전송 게이트웨이로 반환됩니다.
    - GATEWAY LOAD BALANCER
      - 검사 Amazon VPC에는 제3자 네트워크 방화벽 스택에서 트래픽을 확장 및 로드 밸런싱하는 Gateway Load Balancer가 포함되어 있습니다. 이는 확장 가능하고 내결함성이 있는 방식으로 제3자 네트워크 방화벽을 배포하고 관리할 수 있는 기본 AWS 솔루션을 제공합니다. 
      - Gateway Load Balancer에는 두 가지 측면이 있습니다. 두 가지 측면
        - Gateway Load Balancer 프런트 엔드라고 불리는 Gateway Load Balancer 엔드포인트.
        - Gateway Load Balancer 백엔드라고 불리는 대상 방화벽.
    - DIRECT CONNECT
      - 새로운 설계는 또한 인터넷에 대한 송수신 Amazon VPC 제어 연결과 AWS Direct Connect를사용하여 온프레미스 네트워크에 연결하는 방식으로 구성됩니다. 

# AWS Security Fundamentals Second Edition
- 보안 및 규정 준수에 관한 대화를 안내하려면 다음 원칙을 사용하세요. 
  - 강력한 ID 기반 구현
    - 최소 권한 원칙을 구현하고 AWS 리소스와의 각 상호 작용에 대해 적절한 권한 부여를 통해 업무 분리를 시행합니다.
  - 추적성 활성화
    - 환경에 대한 작업과 변경 사항을 실시간으로 모니터링, 경고, 감사합니다. 로그와 지표를 시스템과 통합하여 자동으로 대응하고 조치를 취하세요.
  - 모든 계층에 보안 적용
    - 단일 외부 계층 보호에만 집중하기보다는 다른 보안 제어와 함께 심층 방어 접근 방식을 적용하세요.
  - 보안 모범 사례 자동화
    - 자동화된 소프트웨어 기반 보안 메커니즘은 보다 빠르고 비용 효율적으로 안전하게 확장할 수 있는 능력을 향상시킵니다. 버전 제어 템플릿에서 코드로 정의 및 관리되는 컨트롤을 구현합니다.
  - 전송 중 및 저장 중인 데이터 보호
    - 데이터를 민감도 수준으로 분류하고 적절한 경우 암호화 및 액세스 제어와 같은 메커니즘을 사용하십시오.
  - 최소 권한 원칙 시행
    - 데이터에 대한 접근 권한은 실제로 해당 접근 권한이 필요한 사람에게만 부여되어야 합니다. 모든 것에 대한 액세스를 거부하는 것부터 시작하고 필요에 따라 액세스 권한을 부여하세요.
  - 보안 이벤트에 대비하세요
    - 조직의 요구 사항에 맞는 사고 관리 프로세스를 마련하여 사고에 대비하세요. 사고 대응 시뮬레이션을 실행하고 자동화 도구를 사용하여 탐지, 조사, 복구 속도를 높입니다.
- 데이터 센터 보안
  - 주변 레이어
    - AWS 데이터 센터의 물리적 보안은 경계 계층에서 시작됩니다. 
  - 환경 레이어
    - AWS는 홍수, 기상 이변, 지진 활동과 같은 환경 위험을 완화하기 위해 데이터 센터 위치를 신중하게 선택합니다.
    - 고가용성과 성능이 필요한 고객은 내결함성과 짧은 대기 시간을 위해 동일한 지역의 여러 가용 영역에 애플리케이션을 배포할 수 있습니다.
    - 예상치 못한 상황을 완화하고 대비하기 위해 AWS는 다양한 시나리오를 시뮬레이션하는 훈련을 통해 정기적으로 비즈니스 연속성 계획을 테스트합니다.
    - 기업은 일반적으로 자체 기존 데이터 센터에 비해 AWS 클라우드에서 77% 더 적은 수의 서버, 84% 더 적은 전력을 사용하고 28% 더 깨끗한 태양광 발전과 풍력 발전을 활용합니다.
  - 인프라 계층
    - 백업 전원 장비와 같은 구성 요소; 난방, 환기 및 공조(HVAC) 시스템; 화재 진압 장비는 모두 인프라 계층의 일부이며 서버와 궁극적으로 데이터를 보호하는 데 도움이 됩니다. 
  - 데이터 레이어
    - 클라우드에서는 데이터를 보호하는 것이 궁극적으로 사용자의 책임이지만 AWS는 데이터가 저장되어 있는 미디어를 보호하기 위해 추가적인 예방 조치를 취합니다.
    - 고객 데이터를 삭제하기 위해 NIST800-88 기술을 사용하여 저장 장치를 폐기합니다.
    - AWS는 데이터 센터를 검사하고 보안 인증을 획득하는 데 필요한 확립된 규칙을 따르고 있는지 확인하는 외부 감사자의 감사를 받습니다.
    - AWS 서버는 직원에게 데이터 제거 시도를 알릴 수 있습니다. 위반이 발생하는 경우에는 서버가 자동으로 비활성화됩니다.
- AWS에서의 규정 준수
  - AWS는 다음을 수행하여 보안 및 제어 환경에 대해 고객에게 전달합니다.
    - 업계 인증 및 독립적인 제3자 인증 획득
    - 백서 및 웹 사이트 콘텐츠에 AWS 보안 및 제어 관행에 대한 정보 게시
    - 필요에 따라 NDA(비공개 계약)에 따라 AWS 고객에게 인증서, 보고서 및 기타 문서를 직접 제공합니다.
    - 규정 준수 플레이북 및 규정 준수 프로그램용 매핑 문서를 포함한 보안 기능 및 지원 요소 제공
  - AWS 아티팩트
    - AWS Artifact는  AWS 보안 및 규정 준수 보고서와 엄선된 온라인 계약에 액세스할 수 있는 무료 셀프 서비스 포털입니다. 
    - 사용 가능한 보고서에는 AWS 시스템 및 조직 제어(SOC) 보고서, 결제 카드 산업(PCI) 보고서, 지역 및 규정 준수 업종 전반에 걸친 인증 기관의 인증이 포함됩니다.
- 클라우드 보안
  - IAM을 위한 추가 AWS 서비스
    - AWS 비밀 관리자
      - AWS Secrets Manager는 AWS, 온프레미스 및 타사 서비스의 리소스에 액세스하는 데 사용되는 암호를 중앙에서 관리하도록 설계되었습니다. 
      - 비밀은 데이터베이스 자격 증명, 비밀번호, 타사 API 키, 심지어 임의의 텍스트일 수도 있습니다. Secrets Manager를 사용하면 코드에 하드코딩된 자격 증명을 Secrets Manager에 대한 API 호출로 대체하여 프로그래밍 방식으로 암호를 검색할 수 있습니다. 또한 지정한 일정에 따라 비밀을 자동으로 교체하도록 Secrets Manager를 구성할 수도 있습니다.
    - AWS IAM 자격 증명 센터
      - AWS IAM Identity Center는 여러 AWS 계정 및 비즈니스 애플리케이션에 대한 SSO 액세스의 중앙 관리를 제공하는 클라우드 SSO(Single Sign-On) 서비스입니다. 
      - 사용자는 기존 회사 자격 증명을 사용하여 사용자 포털에 로그인하고 한 곳에서 할당된 모든 계정과 애플리케이션에 액세스할 수 있습니다. IAM Identity Center에는 다양한 비즈니스 애플리케이션에 대한 SAML 통합이 내장되어 있습니다. Microsoft Active Directory와 통합될 수 있습니다. 즉, 직원이 회사 Active Directory 자격 증명을 사용하여 사용자 포털에 로그인할 수 있습니다.
    - AWS STS
      - AWS Security Token Service(STS)는 다른 역할을 맡은 IAM 사용자 또는 연동 중인 사용자에 대해 임시적이고 제한된 권한 자격 증명을 요청할 수 있는 기능을 제공하는 웹 서비스입니다. 
      - 누군가 또는 무언가가 매일 수행되지 않는 특정 작업을 수행하기 위해 귀하의 계정에 액세스해야 하는 시나리오는 임시 자격 증명의 훌륭한 후보가 될 것입니다.
    - AWS 디렉터리 서비스
      - AWS Managed Microsoft AD라고도 알려진 Microsoft Active Directory용 AWS Directory Service를 사용하면 도메인 워크로드와 AWS 리소스가 AWS 클라우드에서 관리형 Active Directory를 사용할 수 있습니다. 
      - AWS Managed Microsoft AD는 실제 Microsoft Active Directory를 기반으로 구축되었으며 기존 Active Directory의 데이터를 클라우드로 동기화하거나 복제할 필요가 없습니다.
    - AWS 조직
      - AWS Organizations를 사용하면 여러 AWS 계정에 대한 정책을 중앙에서 관리하고 시행할 수 있습니다. 
      - 이 서비스를 사용하면 계정을 조직 단위(OU)로 그룹화하고 서비스 제어 정책을 사용하여 여러 AWS 계정에 걸쳐 AWS 서비스를 중앙에서 제어할 수 있습니다. 조직을 사용하면 API를 통해 새 계정 생성을 자동화할 수 있습니다. 또한 통합 청구를 통해 조직 내 모든 계정에 대해 단일 결제 방법을 설정하여 청구를 간소화할 수 있습니다. Organizations는 모든 AWS 고객이 추가 비용 없이 사용할 수 있습니다.
  - Amazon Cognito
    - Amazon Cognito를 사용하면 웹  및 모바일 앱에 사용자 가입, 로그인 및 액세스 제어를 추가할 수 있습니다. 
    - 역할을 정의하고 사용자를 다양한 역할에 매핑하여 앱이 각 사용자에게 승인된 리소스에만 액세스할 수 있도록 할 수 있습니다. 사용자 로그인은 타사 자격 증명 공급자를 통해 수행하거나 Amazon Cognito를 통해 직접 수행할 수 있습니다.
- AWS에서 감사
  - 탐지 제어를 위한 추가 AWS 서비스
    - Amazon GuardDuty
      - Amazon GuardDuty는  고객에게 AWS 계정과 워크로드를 지속적으로 모니터링하고 보호할 수 있는 방법을 제공하는 지능형 위협 탐지 서비스입니다. 
      - GuardDuty는 통합 위협 인텔리전스 피드를 통해 의심되는 공격자를 식별하고 기계 학습(ML)을 사용하여 계정 및 워크로드 활동의 이상 현상을 감지합니다. 
      - 고객의 계정이 손상되었을 수 있음을 나타내는 비정상적인 API 호출이나 무단 배포와 같은 활동을 모니터링합니다. 
      - 손상된 인스턴스나 공격자의 정찰과 같은 직접적인 위협도 모니터링합니다.
    - AWS Trusted Advisor
      - AWS Trusted Advisor는  모범 사례를 활용하고 AWS 환경을 검사하여 비용 절감, 시스템 성능 개선 또는 보안 격차 해소를 위한 권장 사항을 제시하는 서비스입니다. 
      - 모든 변경 사항에 대해 매주 이메일을 받도록 Trusted Advisor 알림을 구성할 수 있습니다. 
      - 비즈니스 수준 및 엔터프라이즈 수준 지원을 구독하여 Trusted Advisor 모범 사례 점검의 전체 제품군에 액세스할 수도 있습니다.
    - Amazon VPC 흐름 로그
      - 많은 AWS 서비스는 내장된 액세스 제어 감사 추적 및 로그를 제공합니다. 
      - Amazon VPC 흐름 로그를 활성화하여 VPC의 네트워크 인터페이스로 들어오고 나가는 IP 트래픽에 대한 정보를 캡처할 수 있습니다. 
      - VPC 흐름 로그는 다양한 작업에 도움이 될 수 있습니다. 예를 들어, 특정 트래픽이 인스턴스에 도달하지 못하는 이유를 해결할 수 있으며, 이는 지나치게 제한적인 보안 그룹 규칙을 진단하는 데 도움이 됩니다. 흐름 로그를 보안 도구로 사용하여 인스턴스에 도달하는 트래픽을 모니터링할 수도 있습니다.
    - AWS Security Hub
      - AWS Security Hub는  AWS 계정 전반에 걸쳐 우선순위가 높은 보안 경고 및 규정 준수 상태를 단일 창에서 볼 수 있는 기능을 제공합니다. 
      - 이는 AWS 파트너 솔루션 외에도 Amazon GuardDuty, Amazon Inspector 및 Amazon Macie와 같은 여러 AWS 서비스에서 보안 경고 또는 결과를 집계하고 구성하고 우선 순위를 지정하는 단일 위치를 제공합니다.
  - AWS Config
    - AWS Config는  규정 위반 구성을 거의 실시간으로 감지하는 데 도움이 되는 지속적인 모니터링 및 평가 서비스입니다. 
    - 리소스의 현재 및 기록 구성을 보고 이 정보를 사용하여 중단 문제를 해결하고 보안 공격 분석을 수행할 수 있습니다.
- 인프라 보호
  - 인프라 보호를 위한 추가 AWS 서비스
    - AWS Firewall Manager
      - AWS Firewall Manager는 계정과 애플리케이션 전반에 걸쳐 AWS WAF 규칙을 중앙에서 구성하고 관리하는 데 도움이 되는 보안 관리 서비스입니다. 
      - Firewall Manager는 처음부터 새로운 애플리케이션과 리소스가 공통 보안 규칙 세트를 준수하도록 할 수 있습니다.
    - AWS Direct Connect
      - AWS Direct Connect는 기업 내에서 AWS까지 전용 보안 네트워크 연결을 설정하는 데 사용되는 클라우드 서비스 솔루션입니다. 
      - AWS Direct Connect를 사용하면 AWS와 데이터 센터, 사무실 또는 코로케이션 환경 간에 프라이빗 연결을 설정할 수 있습니다. 
      - 대부분의 경우 이는 네트워크 비용을 절감하고, 대역폭 처리량을 늘리며, 인터넷 기반 연결보다 더 일관된 네트워크 환경을 제공할 수 있습니다.
    - AWS CloudFormation
      - AWS CloudFormation은 일관된 방식으로 AWS 리소스를 반복적으로 생성하고 배포하는 작업을 자동화하고 간소화합니다. 
      - AWS CloudFormation을 사용하면 모든 보안 및 규정 준수 제어 기능이 새로운 환경과 함께 배포되도록 할 수 있습니다.
  - Amazon Inspector
    - Amazon Inspector는 AWS에 배포된 애플리케이션의 보안 및 규정 준수를 개선하는 데 도움이 되는 자동화된 보안 평가 서비스입니다. 
    - 애플리케이션의 취약점이나 모범 사례와의 편차를 지속적으로 검사하고 평가합니다. 
    - 모든 결과는 Amazon Inspector 콘솔에 집계되어 AWS Security Hub로 라우팅되고 Amazon EventBridge를 통해 푸시되어 티켓팅과 같은 워크플로를 자동화합니다.  
- 데이터 보호
  - 휴식 시 보호
    - 저장된 데이터를 보호하는 것은 데이터베이스 서비스를 포함하여 당사의 스토리지 서비스 중 하나를 사용하는 동안 데이터를 암호화하는 것과 관련이 있습니다. 
    - 예를 들어 Amazon S3의 경우 두 가지 유형의 암호화 옵션을 사용할 수 있습니다. 선택하는 옵션은 암호화에 사용되는 키를 관리하고 제공할 사람에 따라 달라집니다.
      - 클라이언트 측 암호화 : 데이터를 AWS로 보내기 전에 암호화 합니다 .
      - 서버 측 암호화 : AWS는 서비스에서 데이터를 수신한 후 사용자를 대신하여 데이터를 암호화합니다 .
  - 운송 중 보호
    - 한 시스템에서 다른 시스템으로 전송되는 모든 데이터는 전송 중인 데이터 로 간주됩니다 . 
    - AWS에서는 다음 솔루션과 모범 사례를 권장합니다. 이러한 솔루션은 애플리케이션 데이터의 기밀성과 무결성을 포함하여 전송 중인 데이터에 대해 적절한 수준의 보호를 제공하는 데 도움이 됩니다.
      - AWS 서비스는 TLS(전송 보안 계층)를 사용하여 통신에 HTTPS 엔드포인트를 제공하므로 AWS API와 통신할 때 엔드투엔드 암호화를 제공합니다.
      - AWS를 사용하여 웹 기반 워크로드에서 TLS 암호화에 사용되는 공인 및 사설 인증서를 생성, 배포 및 관리합니다.
      - 트래픽 암호화를 촉진하려면 AWS에 대한 VPN 연결과 함께 IPsec을 사용하십시오.
  - 데이터 보호를 위한 추가 AWS 서비스
    - AWS CloudHSM
      - AWS CloudHSM은 AWS 클라우드에서 하드웨어 보안 모듈(HSM)을 제공합니다. 
      - HSM은 암호화 작업을 처리하고 암호화 키에 대한 보안 저장소를 제공하는 컴퓨팅 장치입니다. 
      - CloudHSM을 사용하면 대칭 키와 비대칭 키 페어를 포함한 암호화 키를 생성, 저장, 가져오기, 내보내기 및 관리할 수 있습니다.
    - Amazon S3 Glacier
      - Amazon S3 Glacier는 콜드 데이터 라고도 불리는 자주 사용되지 않는 데이터에 최적화된 스토리지 서비스입니다 . 
      - 이 서비스는 데이터 보관 및 백업을 위한 보안 기능을 갖춘 내구성이 뛰어나고 매우 저렴한 스토리지를 제공합니다. 
      - Amazon S3 Glacier는 데이터를 볼트 내에 아카이브로 저장합니다. 
      - 저장소 잠금 정책을 사용하여 개별 Amazon S3 Glacier 저장소에 대한 규정 준수 제어를 시행할 수 있습니다.
    - AWS Certificate Manager(ACM)
      - AWS Certificate Manager(ACM)는 AWS 기반 웹사이트 및 애플리케이션에 대한 공개 SSL/TLS 인증서 생성 및 관리의 복잡성을 처리합니다. 
      - ACM은 사용자, 컴퓨터, 애플리케이션, 서비스, 서버 및 기타 장치를 내부적으로 식별하는 개인 SSL/TLS X.509 인증서를 발급하는 데에도 사용할 수 있습니다.
    - Amazon Macie
      - Amazon Macie는 ML을 사용하여 AWS의 민감한 데이터를 자동으로 검색, 분류 및 보호합니다. 
      - Macie는 개인 식별 정보(PII) 또는 지적 재산과 같은 민감한 데이터를 인식합니다. 
      - 이 데이터가 어떻게 액세스되거나 이동되는지에 대한 가시성을 제공하는 대시보드와 경고를 제공합니다.
  - AWS KMS
    - AWS 키 관리 서비스(새 탭에서 열림) (AWS KMS)는 데이터 암호화에 사용되는 키를 생성하고 제어하는데 도움이 되는 관리형 서비스입니다.
    - 암호화 키를 생성하고 제어하기 위한 관리형 서비스를 원하지만 자체 HSM을 운영하고 싶지 않거나 필요하지 않은 경우 AWS KMS 사용을 고려하십시오. 
    - 애플리케이션에서 직접 또는 AWS KMS와 통합된 AWS 서비스를 통해 키 관리 및 암호화 기능을 사용할 수 있습니다. 
    - 여기에는 감사, 규제 및 규정 준수 요구 사항을 충족하는 데 도움이 되는 AWS CloudTrail이 포함됩니다.
- 사고 대응
  - AWS를 사용하여 가능한 몇 가지 조사 기능입니다. 
    - 자동화를 위한 API의 힘
      - AWS에서는 API를 사용하여 사고 대응 중에 수행해야 하는 여러 일상적인 작업을 자동화할 수 있습니다. 
      - 예를 들어 단일 명령을 사용하면 인스턴스와 연결된 보안 그룹을 변경하여 인스턴스를 격리할 수 있습니다. 
    - 데이터 볼륨에 대한 포렌식 수행
      - 포렌식에서는 디스크 이미지나 OS의 현재 구성을 캡처해야 하는 경우가 많습니다. 
      - Amazon EBS를 사용할 수 있습니다.(새 탭에서 열림)스냅샷과 Amazon EC2 API를 사용하여 조사 중인 시스템의 데이터와 상태를 캡처합니다.
    - 클린룸에서 작동
      - AWS 클라우드포메이션(새 탭에서 열림) 심층적인 조사를 수행할 수 있는 새롭고 신뢰할 수 있는 환경을 신속하게 만드는 데 사용할 수 있습니다. 
      - AWS CloudFormation은 법의학 팀이 사고의 원인을 파악하는 데 필요한 모든 도구가 포함된 격리된 환경에 사전 구성된 인스턴스를 배포할 수 있습니다.
  - AWS Step Functions
    - AWS Step Functions를 사용하면 여러  AWS 서비스를 서버리스 워크플로로 조정하여 앱을 빠르게 구축하고 업데이트할 수 있습니다. 
    - 워크플로는 일련의 단계로 구성되며, 한 단계의 출력이 다음 단계의 입력으로 작용합니다. 
    - Step Functions를 사용하면 AWS Lambda 및 AWS CloudFormation과 같은 서비스를 결합하여 클라우드에서 발생하는 사고에 대응하는 워크플로를 설계하고 실행할 수 있습니다.
- DDoS 완화
  - 지역 외부 보호를 위한 AWS 서비스
    - 아마존 루트 53
      - Amazon Route 53은 웹 애플리케이션으로 트래픽을 전달하는 데 사용할 수 있는 가용성과 확장성이 뛰어난 DNS 서비스입니다. 
      - 여기에는 트래픽 흐름, 대기 시간 기반 라우팅, 가중 라운드 로빈, Geo DNS, 상태 확인 및 모니터링과 같은 많은 고급 기능이 포함되어 있습니다. 
      - 이러한 기능을 사용하면 웹 애플리케이션의 성능을 향상하고 사이트 중단을 방지할 수 있습니다. 
      - Route 53은 수많은 AWS 엣지 로케이션에서 호스팅되어 대량의 DDoS 트래픽을 흡수할 수 있는 글로벌 노출 영역을 생성합니다.
    - 아마존 클라우드프론트
      - Amazon CloudFront는 전체 웹 사이트를 포함한 데이터를 최종 사용자에게 전달하는 데 사용할 수 있는 콘텐츠 전송 네트워크(CDN) 서비스입니다. 
      - CloudFront는 많은 일반적인 DDoS 공격을 방지하기 위해 올바른 형식의 HTTPS 및 HTTP 연결만 허용합니다. 
      - 이러한 기능을 사용하면 대규모 DDoS 공격 중에도 최종 사용자에게 계속해서 트래픽을 제공하는 능력이 크게 향상될 수 있습니다.
    - AWS 쉴드
      - AWS Shield는 AWS에서 실행되는 웹 애플리케이션을 보호하는 관리형 DDoS 보호 서비스입니다. 
      - AWS Shield는 애플리케이션 가동 중지 시간과 지연 시간을 최소화하는 상시 감지 및 자동 인라인 완화 기능을 제공합니다.
  - AWS WAF
    - AWS WAF는 애플리케이션 가용성에 영향을 미치거나, 보안을 손상시키거나, 과도한 리소스를 소비할 수 있는 일반적인 웹 공격으로부터 웹 애플리케이션을 보호하는 데 도움이 됩니다. 
    - AWS WAF는 사용자 정의 가능한 웹 보안 규칙을 정의하여 허용하거나 차단할 트래픽을 제어할 수 있습니다.

# AWS Security Best Practices: Security Overview
- 책임 공유 모델
  - 클라우드의 보안
    - AWS는 클라우드 서비스를 제공하는 글로벌 인프라를 관리합니다.
    - AWS는 지속적인 감사 및 보증 프로그램을 받고 있습니다.
    - AWS는 AWS 서비스 및 서비스 엔드포인트를 실행하는 글로벌 인프라를 보호합니다.
    - AWS에는 보안 및 개선 문화가 있습니다.
    - 고객은 AWS 클라우드에서 워크로드를 관리합니다.
    - 고객은 AWS가 제공하는 네트워크 구성을 구성해야 합니다.
    - 고객은 자신의 제어 기능을 구현하고 관리할 수 있습니다.
    - 고객은 이미 제공된 AWS 제어 외에 추가 보증을 배포하도록 선택할 수 있습니다.
    - 고객은 성숙한 공급업체 마켓플레이스에 액세스할 수 있습니다.
  - 고객의 과제
    - 기술, 프로세스, 위협의 변화로 인해 보안 및 규정 준수 요구 사항이 끊임없이 진화하고 있습니다. 다음과 같은 이유로 데이터 보호가 어려워집니다.
      - 규모와 복잡성의 기술 변화
      - 자원 및 인력 제한
      - 진화하는 위협과 확장되는 위협 표면
  - 위협
    - 서비스 거부 공격
    - 악성코드 감염
    - 무단 액세스 또는 내부자 위협
    - 잘못된 구성 및 잘못된 변경 제어
- 프레임워크 및 표준
  - 표준 기반 접근 방식에서 프레임워크 사용
    - 조직은 파괴적인 보안 이벤트를 식별, 보호, 감지, 대응 및 복구하기 위해 효과적인 보안 제어를 사용해야 합니다.
    - AWS Well-Architected 프레임워크 보안 원칙은 클라우드 환경 모범 사례에 대한 오랜 경험을 바탕으로 이러한 5가지 CSF 기능을 지원합니다.
    - NIST CSF는 고객이 필요한 보안 제어를 달성할 수 있도록 돕기 위해 점점 늘어나는 서비스 포트폴리오를 통해 AWS 및 AWS 파트너의 지원을 받습니다.
  - 보안 기둥
    - 보안 원칙은 비즈니스 요구 사항을 충족하는 동시에 정보, 시스템 및 자산을 보호하는 데 중점을 둡니다. 이 기둥은 다음 영역으로 구성됩니다.
      - 인프라 보호
      - 발각
      - 데이터 보호
      - IAM(ID 및 액세스 관리)
      - 사고 대응
  - 인프라  보호
    - Amazon Virtual Private Cloud(Amazon VPC)
    - 계층화된 서브넷 배포
    - 라우팅 테이블
    - 네트워크 액세스 제어 목록(네트워크 ACL)
    - 보안 그룹
    - 탄력적 로드 밸런싱(ELB)
    - AWS 쉴드
    - AWS WAF
    - 아마존 가드듀티
    - AWS 방화벽 관리자
  - 발각
    - AWS에서는 기본 서비스 또는 파트너 제공 서비스를 구현하여 경보를 모니터링, 분석 또는 평가하고 제공할 수 있습니다. 이를 촉진하는 데 도움이 되는 일부 AWS 서비스는 다음과 같습니다.
    - AWS 신뢰 고문
    - AWS 감사 관리자
    - AWS 클라우드트레일
    - 아마존 클라우드워치
    - VPC 흐름 로그
  - CAF 보안 관점
    - 보안 관점의 목표는 조직에 적합한 컨트롤 선택 및 구현을 구조화하는 데 도움을 주는 것입니다. 
    - 이러한 관점은 잘 확립된 정보 보안 원칙을 계속 준수하면서 더 큰 규모와 더 낮은 비용으로 더 빠르게 작업을 수행하는 것입니다.
      - 지시어 제어
        - 계정 소유권 및 연락처 정보
          - 제어 예: 사업부에 AWS 계정 할당
        - 변경 및 자산 관리
          - 제어 예: 고객별 태그를 리소스에 할당합니다.
        - 최소 권한 액세스
          - 제어 예: 지정된 리소스에 대해 필요한 권한만 허용하도록 직원에게 AWS 역할을 할당합니다.
      - 예방적 통제
        - 신원 및 액세스
          - 제어 예: 정당한 필요가 있는 사용자를 제외한 모든 AWS Identity and Access Management(IAM) 사용자에게 ec2::CreateVpc를 거부합니다.
        - 인프라 보호
          - 제어 예: 퍼블릭 서브넷에서 민감한 서브넷으로의 패킷을 거부합니다.
        - 데이터 보호
          - 제어 예: 민감한 Amazon Simple Storage Service(Amazon S3) 버킷에 대한 삭제 작업에 멀티 팩터 인증(MFA)이 필요합니다.
      - 탐정 통제
        - 로깅 및 모니터링
          - 제어 예: CloudTrail을 통해 모든 AWS 애플리케이션 프로그래밍 인터페이스(API) 활동을 기록합니다.
        - 자산 재고
          - 제어 예: AWS Config 규칙을 준수하지 않는 경우 클라우드 관리자에게 알립니다.
        - 변화 감지
          - 제어 예: 거부된 IAM API 요청에 대한 경고입니다.
      - 반응형 컨트롤
        - 취약점
          - 제어 예: 운영 체제 보안 패치를 시작합니다.
        - 권한 승격
          - 제어 예: IAM의 위험한 변경 사항을 되돌립니다.
        - DDoS 공격
          - 제어 예: 소스 IP를 거부합니다.
  - CSF 핵심 보안 기능
    - 식별하다
      - 제어 카테고리
        - 자산관리(ID.AM)
        - 비즈니스 환경(ID.BE)
        - 거버넌스(ID.GV)
        - 위험 평가(ID.RA)
        - 리스크 관리 전략(ID.RM)
      - 예시 결과
        - 자산 관리 프로그램 구축을 위한 물리적 자산 및 소프트웨어 자산 식별
        - 거버넌스 프로그램을 정의하기 위한 사이버 보안 정책 식별
        - 조직의 위험 관리 전략 식별
    - 보호하다
      - 제어 카테고리
        - ID 관리, 인증 및 액세스 제어(PR.AC)
        - 인식 및 교육(PR.AT)
        - 데이터 보안(PR.DS)
        - 정보 보호 프로세스 및 절차(PR.IP)
        - 유지보수(PR.MA)
        - 보호 기술(PR.PT)
      - 예시 결과
        - 기밀성, 무결성 및 가용성을 보호하기 위한 데이터 보안 보호 설정
        - 시스템 및 지원의 보안과 복원력을 보장하기 위한 보호 기술 관리
        - 인식과 교육을 통해 조직 내 직원 역량 강화
    - 감지하다
      - 제어 카테고리
