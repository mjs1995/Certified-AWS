# Developer Learning Plan
## Amazon API Gateway for Serverless Applications
- API Gateway
  - API 관리의 어려움
    - API를 사용하면 많은 이점이 있지만 API를 관리하는 동안 자주 발생하는 문제에 직면할 수도 있습니다.
      - 서버리스 애플리케이션에서 API 호출 처리
      - 여러 API 버전 및 환경으로 작업
      - 액세스 및 권한 부여 제어
      - 트래픽 스파이크 관리
      - 서드 파티 액세스 모니터링
  - API Gateway의 개발자 기능
    - 여러 버전의 API를 동시에 실행
      - API Gateway를 사용하면 같은 API의 여러 버전을 동시에 실행할 수 있으므로 신속하게 새 버전을 반복, 테스트 및 릴리스할 수 있습니다.
      - API를 변경하고 다양한 사용자를 위해 여러 API 버전을 호스팅할 수도 있습니다.
    - 빠른 SDK 생성
      - REST API를 사용하는 경우 API Gateway에서는 다양한 플랫폼을 위한 클라이언트 소프트웨어 개발 키트(SDK)를 생성할 수 있으며, 생성한 SDK를 이용하여 애플리케이션에서 새로운 API를 빠르게 테스트하고 서드 파티 개발자에게 해당 SDK를 배포할 수 있습니다.
      - 생성된 SDK는 AWS 자격 증명을 사용하여 API 키 및 서명 요청을 처리합니다. API Gateway는 Java, JavaScript, Android용 Java, iOS용 Objective-C 또는 Swift, Ruby용 클라이언트 SDK를 생성할 수 있습니다
    - 요청/응답 데이터 변환 또는 검증
      - API Gateway를 사용하면 또한 수신 및 발신 요청을 모두 변환하고 유효성을 검사할 수도 있습니다.
  - API 액세스 관리 기능
    - 지연 시간 단축 및 트래픽 조절
      - API Gateway는 엣지 로케이션의 Amazon CloudFront 글로벌 네트워크를 활용하여 최종 사용자에게 API 요청 및 응답에 대해 최소 지연 시간을 제공합니다.
      - 이 서비스를 통해 트래픽을 조절하고 API 호출 권한을 부여하여 백엔드 작업이 트래픽 스파이크에 대처하고 백엔드 시스템이 불필요하게 호출되지 않도록 할 수도 있습니다.
    - 기본 제공되는 유연한 권한 부여 옵션
      - API Gateway는 몇 가지 권한 부여 옵션을 제공합니다. AWS Identity and Access Management(IAM)와 Amazon Cognito를 사용하여 API에 대한 액세스 권한을 부여할 수 있습니다.
      - OAuth 토큰을 사용하는 경우 API Gateway가 기본 OpenID Connect(OIDC) 및 OAuth2 지원도 제공합니다.
      - 사용자 지정 권한 부여 요구 사항을 지원하기 위해 Lambda에서 Lambda 권한 부여자를 호출할 수 있습니다. Lambda 권한 부여자를 사용하면 사용자 지정 Lambda 함수를 사용하여 고유한 권한 부여 코드를 개발할 수 있습니다.
    - 서드 파티 개발자를 위한 API 키
      - REST API를 사용하는 경우 API Gateway는 API에 액세스하는 서드 파티 개발자 에코시스템을 관리할 수 있도록 지원합니다.
      - API Gateway에서 API 키를 생성하고, API 키별로 세부적인 액세스 권한을 설정하고, 서드 파티 개발자가 API에 액세스할 수 있도록 해당 키를 서드 파티 개발자에게 배포할 수 있습니다.
      - API 키는 API에 대한 기본 권한 부여 메커니즘은 아니지만 특정 사용자 또는 서비스의 사용량을 추적할 수 있는 기능을 제공합니다.
  - 사용 사례에 가장 적합한 API 유형 선택
    - REST API
      - 요금에 API 구축, 관리 및 게시에 필요한 모든 기능이 포함된 세트
      - 백엔드 인증, AWS WAF 또는 리소스 정책에 인증서를 사용하는 API 구축
      - 엣지 최적화 또는 프라이빗 API 유형이 필요한 워크로드
      - REST는 Representational State Transfer의 약자입니다. REST는 클라이언트가 서버 데이터에 액세스하는 데 사용할 수 있는 GET, PUT, DELETE와 같은 함수 집합을 정의합니다. 클라이언트와 서버는 HTTP를 사용하여 데이터를 교환합니다.
      - REST API의 주된 특징은 스테이스리스라는 점입니다. 스테이트리스는 서버가 요청 간에 클라이언트 데이터를 저장하지 않음을 의미합니다.
      - REST API는 단일 솔루션에서 API 프록시 기능 및 관리 기능을 제공합니다. 또한 REST API는 사용 플랜, API 키, 게시, API 수익 창출 같은 API 관리 기능도 제공합니다.
    - HTTP API
      - 네이티브 OIDC 및 OAuth 2 권한 부여 기능이 탑재된 최신 API 구축
      - Lambda 또는 모든 HTTP 엔드포인트를 위한 프록시 API 구축
      - 지연 시간에 민감한 워크로드용 API
      - Hypertext Transfer Protocol(HTTP) API를 사용하여 REST API보다 지연 시간이 짧고 비용이 저렴한 RESTful API를 만들 수 있습니다.
      - HTTP API를 사용하여 Lambda 함수 또는 라우팅 가능한 HTTP 엔드포인트로 요청을 보낼 수 있습니다.
      - HTTP API는 Lambda 함수 또는 HTTP 백엔드에 프록시 역할을 하는 API를 구축하는 데 최적화되어 서버리스 워크로드에 적합합니다. API 관리 기능은 현재 제공하지 않습니다.
    - WEBSOCKET API
      - 클라이언트와 서비스가 독립적으로 서로 메시지를 보낼 수 있는 양방향 통신
      - 클라이언트가 명시적으로 요청하지 않아도 서비스가 데이터를 클라이언트로 푸시할 수 있어 더 풍부한 클라이언트/서비스 상호 작용
      - 실시간 통신용 API
      - WebSocket API는 클라이언트가 WebSocket 프로토콜을 통해 액세스할 수 있는 API를 제공합니다.
      - REST 및 HTTP API와 달리 WebSocket API는 양방향 통신을 허용합니다.
      - WebSocket API는 채팅 애플리케이션, 협업 플랫폼, 멀티플레이어 게임 및 금융 거래 플랫폼 같은 실시간 애플리케이션에서 자주 사용합니다.
      - WebSocket API는 연결된 클라이언트 간에 영구 연결을 유지하여 실시간 메시징 통신을 가능하게 합니다.
      - API Gateway에서 WebSocket API를 사용하면 연결된 클라이언트의 메시지가 수신될 때 호출할 Lambda 함수, Amazon Kinesis 또는 HTTP 엔드포인트와의 백엔드 통합을 정의할 수 있습니다.
- WebSocket API 설계
  - WebSocket API는 다음과 같은 실시간 애플리케이션에서 자주 사용합니다.
    - 채팅 애플리케이션
    - 스트리밍 대시보드
    - 실시간 경고 및 알림
    - 협업 플랫폼
    - 멀티플레이어 게임
    - 금융 거래 플랫폼
- REST API 설계
  - API Gateway REST API 엔드포인트 유형
    - 리전 엔드포인트
      - 리전 엔드포인트는 API와 동일한 AWS 리전에서 호출할 때 지연 시간을 줄일 수 있도록 설계되었습니다. 이 모델에서는 API Gateway가 API 앞에 자체 CloudFront 배포를 배포하지 않습니다. 대신에 API로 전송되는 트래픽은 배포한 리전의 API 엔드포인트로 직접 전달됩니다.
      - 이 엔드포인트 유형을 사용하면 동일한 리전 내에서 API(예: 동일한 리전 내의 EC2 인스턴스에서 액세스할 API)를 호출하는 애플리케이션의 지연 시간이 단축됩니다.
      - 리전 엔드포인트는 API Gateway 앞에 사용의 CloudFront 배포 또는 콘텐츠 전송 네트워크(CDN)를 배포하고 사용자 지정 시나리오에 대한 자체 설정을 사용하여 이 배포를 제어하도록 유연성을 제공합니다
    - 엣지 최적화 엔드포인트
      - 엣지 최적화 엔드포인트는 인터넷 어디에서든 클라이언트 지연 시간을 줄일 수 있도록 설계되었습니다. 엣지 최적화 엔드포인트를 선택하는 경우 API Gateway는 API에 대한 액세스 지연 시간을 줄일 수 있는 완전관리형 CloudFront 배포를 자동으로 구성합니다.
      - 이 엔드포인트 유형 설정은 API의 최초 적중 지연 시간을 줄입니다. 관리형 CloudFront 배포를 사용하면 CDN에 대한 비용을 지불하거나 API Gateway에서 별도로 CDN을 관리할 필요성이 없다는 이점도 있습니다.
    - 프라이빗 엔드포인트
      - 프라이빗 엔드포인트는 선택한 Amazon Virtual Private Cloud(Amazon VPC) 내부에서만 API를 노출하도록 설계되었습니다. 이 엔드포인트 유형은 계속 API Gateway가 관리하지만 요청은 사용자가 제어하는 단일 Virtual Private Cloud(VPC) 내에서만 라우팅 및 시작할 수 있습니다.
      - 이 엔드포인트 유형은 인터넷에서 공개적으로 노출할 수 없는 의료 데이터나 금융 데이터와 같이 고도의 보안을 요하는 워크로드가 있는 애플리케이션용으로 설계되었습니다. 프라이빗 API의 데이터 송신 요금은 없습니다.
  - API Gateway 선택적 캐시
    - Amazon API Gateway에서 API 캐싱을 설정하여 엔드포인트의 응답을 캐시할 수 있습니다. 캐싱을 사용하면 엔드포인트에 대한 호출 수를 줄이고 API에 대한 요청 지연 시간을 개선할 수 있습니다.
