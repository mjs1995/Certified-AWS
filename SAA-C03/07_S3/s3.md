# S3
- Amazon S3 사용 사례
  - 백업 및 저장
  - 재해 복구
  - 아카이브
  - 하이브리드 클라우드 저장소
  - 애플리케이션 호스팅
  - 미디어 호스팅
  - 데이터 레이크 및 대용량 데이터 분석
  - 소프트웨어 제공
  - 정적 웹 사이트
- 버킷
  - Amazon S3는 사람들이 "버킷" (디렉터리)에 객체 (파일)을 저장할 수 있게 합니다.
  - 버킷은 전체 지역 및 모든 계정을 통해 전역적으로 고유한 이름을 가져야 합니다.
  - 버킷은 지역 수준에서 정의됩니다.
  - S3는 글로벌 서비스처럼 보이지만 버킷은 특정 지역에 생성됩니다.
  - 네이밍 규칙
    - 대문자 없음, 언더스코어 없음
    - 3~63자 길이
    - IP가 아님
    - 소문자로 시작해야 함
    - 접두사 xn--로 시작하지 않아야 함
    - 접미사 -s3alias로 끝나면 안 됨
- 객체
  - 객체(파일)는 키(Key)를 가지고 있습니다.
  - 키는 전체 경로입니다:
    - s3://my-bucket/my_file.txt
    - s3://my-bucket/my_folder1/another_folder/my_file.txt
  - 키는 접두사(prefix)와 객체 이름으로 구성됩니다.
    - s3://my-bucket/my_folder1/another_folder/my_file.txt
  - 버킷 내에서 "디렉터리"라는 개념은 없습니다.(하지만 UI가 그렇게 보이게 만들 수 있습니다)
  - 단지 슬래시("/")를 포함한 아주 긴 이름의 키만 존재합니다.
  - 객체 값은 body의 내용입니다
    - 최대 객체 크기는 5TB (5000GB)입니다.
    - 5GB 이상 업로드하는 경우 "멀티파트 업로드"를 사용해야 합니다.
  - 메타데이터 (키/값 쌍의 텍스트 목록 - 시스템 또는 사용자 메타데이터)
  - 태그 (유니코드 키/값 쌍 - 최대 10개) - 보안/수명주기에 유용합니다.
  - 버전 ID (버전 관리가 활성화된 경우)
- 보안
  - 사용자 기반
    - IAM 정책 - 특정 사용자에 대해 허용되는 API 호출
  - 리소스 기반
    - 버킷 정책 - S3 콘솔에서 정의되는 버킷 전체 규칙 - 계정 간 허용
    - 객체 액세스 제어 목록 (ACL) - 더 세분화된 권한 설정 (비활성화 가능)
    - 버킷 액세스 제어 목록 (ACL) - 덜 일반적인 권한 설정 (비활성화 가능)
  - 참고: IAM 주체는 다음 조건을 충족하는 경우 S3 객체에 액세스할 수 있습니다.
    - 사용자 IAM 권한이 허용하거나 리소스 정책이 허용함
    - 그리고 명시적으로 거부되는 권한이 없음
  - 암호화: 암호화 키를 사용하여 Amazon S3의 객체를 암호화합니다.
- S3 버킷 정책
  - JSON 기반 정책
    - 리소스: 버킷 및 객체
    - 효과: 허용/거부
    - 동작: 허용 또는 거부할 API 세트
    - 주체: 정책을 적용할 계정 또는 사용자
  - S3 버킷 정책 사용 시 다음을 수행할 수 있습니다.
    - 버킷에 대한 공개 액세스 허용
    - 객체 업로드 시 암호화를 강제화
    - 다른 계정에 액세스 권한 부여 (계정 간 액세스)